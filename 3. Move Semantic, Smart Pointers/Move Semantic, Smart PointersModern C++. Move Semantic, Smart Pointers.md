### Modern C++: Move Semantic. Smart Pointers
# Лабораторная работа № 2

### Smart shared pointer

Написать «умный» указатель, который будет реализовывать совместное владение объектом, используя счетчик ссылок.

```
template <class T> class smart_shared_ptr
{
   ...
};
```

Указатель должен реализовывать:
* конструктор по умолчанию;
* конструктор, в качестве параметра принимающий обычный указатель;
* copy-конструктор и copy-оператор присваивания, вызов которых не должен приводить к копироваю объектов, на которые указывает указатель;
* move-конструктор и move-оператор присваивания, которые должны передавать владение другому указателю вместо копирования;
* стандартные операторы и методы: `*`, `->`, `get`, `reset`, преобразование к `bool`.

Написать код, который продемонстрирует работу указателя, используя класс `CTrace` из лекции.

Добавить в класс `CTrace`:

* copy-конструктор;
* copy-оператор присваивания
* move-конструктор
* move-оператор присваивания.

Данные функции должны выводить на экран информацию о том, что они были вызваны.


Пример использования:

```
smart_shared_ptr<СTrace> sp1(new СTrace(1));
smart_shared_ptr<CTrace> sp2 = sp1;

// sp1.get() == sp2.get();

```

*Дополнительное задание 1:* написать функцию `make_smart_shared`, аналогичную `make_shared`.

*Дополнительное задание 2:* сделать так, чтобы `smart_shared_ptr` умел работать с массивами.


